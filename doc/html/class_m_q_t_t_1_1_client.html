<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MANUCA OS: MQTT::Client&lt; Network, Timer, MAX_MQTT_PACKET_SIZE, MAX_MESSAGE_HANDLERS &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="manuca_os_logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">MANUCA OS
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><b>MQTT</b></li><li class="navelem"><a class="el" href="class_m_q_t_t_1_1_client.html">Client</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="class_m_q_t_t_1_1_client-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">MQTT::Client&lt; Network, Timer, MAX_MQTT_PACKET_SIZE, MAX_MESSAGE_HANDLERS &gt; Class Template Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>blocking, non-threaded MQTT client API  
 <a href="class_m_q_t_t_1_1_client.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_m_q_t_t_client_8h_source.html">MQTTClient.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ace4f0a238535ff38fa2a1eb1fadff1be"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_q_t_t_1_1_client.html#ace4f0a238535ff38fa2a1eb1fadff1be">Client</a> (Network &amp;network, unsigned int command_timeout_ms=30000)</td></tr>
<tr class="separator:ace4f0a238535ff38fa2a1eb1fadff1be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3eabfc67e51717765203dceb1cc35bd4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_q_t_t_1_1_client.html#a3eabfc67e51717765203dceb1cc35bd4">connect</a> ()</td></tr>
<tr class="separator:a3eabfc67e51717765203dceb1cc35bd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ca4c1a15acd2ec0710aabbe49d59c49"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_q_t_t_1_1_client.html#a8ca4c1a15acd2ec0710aabbe49d59c49">connect</a> (MQTTPacket_connectData &amp;options)</td></tr>
<tr class="separator:a8ca4c1a15acd2ec0710aabbe49d59c49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34c6c4e9567e8e7d8f78a1c5fd3a0766"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_q_t_t_1_1_client.html#a34c6c4e9567e8e7d8f78a1c5fd3a0766">connect</a> (MQTTPacket_connectData &amp;options, connackData &amp;data)</td></tr>
<tr class="separator:a34c6c4e9567e8e7d8f78a1c5fd3a0766"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1e8a91bcfcd5f518849b46152211991"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_q_t_t_1_1_client.html#ac1e8a91bcfcd5f518849b46152211991">disconnect</a> ()</td></tr>
<tr class="separator:ac1e8a91bcfcd5f518849b46152211991"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b21e4c3a200b749b9821a342d9f0b26"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_q_t_t_1_1_client.html#a8b21e4c3a200b749b9821a342d9f0b26">isConnected</a> ()</td></tr>
<tr class="separator:a8b21e4c3a200b749b9821a342d9f0b26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae454878601be8a182373af8c1b622401"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_q_t_t_1_1_client.html#ae454878601be8a182373af8c1b622401">publish</a> (const char *topicName, Message &amp;message)</td></tr>
<tr class="separator:ae454878601be8a182373af8c1b622401"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d1b46dc485321093ae4494266f901c4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_q_t_t_1_1_client.html#a9d1b46dc485321093ae4494266f901c4">publish</a> (const char *topicName, void *payload, size_t payloadlen, enum QoS qos=QOS0, bool retained=false)</td></tr>
<tr class="separator:a9d1b46dc485321093ae4494266f901c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6b65ee396bf6f71e2ad3390d862112a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_q_t_t_1_1_client.html#aa6b65ee396bf6f71e2ad3390d862112a">publish</a> (const char *topicName, void *payload, size_t payloadlen, unsigned short &amp;id, enum QoS qos=QOS1, bool retained=false)</td></tr>
<tr class="separator:aa6b65ee396bf6f71e2ad3390d862112a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afde257d236c56680a5b132633c3a44ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_q_t_t_1_1_client.html#afde257d236c56680a5b132633c3a44ed">setDefaultMessageHandler</a> (messageHandler mh)</td></tr>
<tr class="separator:afde257d236c56680a5b132633c3a44ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a704926ab331722724d483d1b9110f7ea"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_q_t_t_1_1_client.html#a704926ab331722724d483d1b9110f7ea">setMessageHandler</a> (const char *topicFilter, messageHandler mh)</td></tr>
<tr class="separator:a704926ab331722724d483d1b9110f7ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af14fc1a824e33c0a7cda6784aa95dace"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_q_t_t_1_1_client.html#af14fc1a824e33c0a7cda6784aa95dace">subscribe</a> (const char *topicFilter, enum QoS qos, messageHandler mh)</td></tr>
<tr class="separator:af14fc1a824e33c0a7cda6784aa95dace"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22e3a2e9394a7c3f4ba471f696440d6c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_q_t_t_1_1_client.html#a22e3a2e9394a7c3f4ba471f696440d6c">subscribe</a> (const char *topicFilter, enum QoS qos, messageHandler mh, subackData &amp;data)</td></tr>
<tr class="separator:a22e3a2e9394a7c3f4ba471f696440d6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e9e9c6510e7e819360462500564ccd1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_q_t_t_1_1_client.html#a8e9e9c6510e7e819360462500564ccd1">unsubscribe</a> (const char *topicFilter)</td></tr>
<tr class="separator:a8e9e9c6510e7e819360462500564ccd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3676580238ca03ec60810b8ed2baf2e9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_m_q_t_t_1_1_client.html#a3676580238ca03ec60810b8ed2baf2e9">yield</a> (unsigned long timeout_ms=1000L)</td></tr>
<tr class="separator:a3676580238ca03ec60810b8ed2baf2e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><h3>template&lt;class Network, class Timer, int MAX_MQTT_PACKET_SIZE = 500, int MAX_MESSAGE_HANDLERS = 5&gt;<br />
class MQTT::Client&lt; Network, Timer, MAX_MQTT_PACKET_SIZE, MAX_MESSAGE_HANDLERS &gt;</h3>

<p>blocking, non-threaded MQTT client API </p>
<p>This version of the API blocks on all method calls, until they are complete. This means that only one MQTT request can be in process at any one time. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Network</td><td>a network class which supports send, receive </td></tr>
    <tr><td class="paramname">Timer</td><td>a timer class with the methods: </td></tr>
  </table>
  </dd>
</dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ace4f0a238535ff38fa2a1eb1fadff1be"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace4f0a238535ff38fa2a1eb1fadff1be">&#9670;&nbsp;</a></span>Client()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Network, class Timer , int a, int MAX_MESSAGE_HANDLERS&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_m_q_t_t_1_1_client.html">MQTT::Client</a>&lt; Network, Timer, a, MAX_MESSAGE_HANDLERS &gt;::<a class="el" href="class_m_q_t_t_1_1_client.html">Client</a> </td>
          <td>(</td>
          <td class="paramtype">Network &amp;&#160;</td>
          <td class="paramname"><em>network</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>command_timeout_ms</em> = <code>30000</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Construct the client </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">network</td><td>- pointer to an instance of the Network class - must be connected to the endpoint before calling MQTT connect </td></tr>
    <tr><td class="paramname">limits</td><td>an instance of the Limit class - to alter limits as required </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3eabfc67e51717765203dceb1cc35bd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3eabfc67e51717765203dceb1cc35bd4">&#9670;&nbsp;</a></span>connect() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Network , class Timer , int MAX_MQTT_PACKET_SIZE, int b&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_m_q_t_t_1_1_client.html">MQTT::Client</a>&lt; Network, Timer, MAX_MQTT_PACKET_SIZE, b &gt;::connect </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MQTT Connect - send an MQTT connect packet down the network and wait for a Connack The nework object must be connected to the network endpoint before calling this Default connect options are used </p><dl class="section return"><dt>Returns</dt><dd>success code - </dd></dl>

</div>
</div>
<a id="a8ca4c1a15acd2ec0710aabbe49d59c49"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ca4c1a15acd2ec0710aabbe49d59c49">&#9670;&nbsp;</a></span>connect() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Network , class Timer , int MAX_MQTT_PACKET_SIZE, int b&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_m_q_t_t_1_1_client.html">MQTT::Client</a>&lt; Network, Timer, MAX_MQTT_PACKET_SIZE, b &gt;::connect </td>
          <td>(</td>
          <td class="paramtype">MQTTPacket_connectData &amp;&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MQTT Connect - send an MQTT connect packet down the network and wait for a Connack The nework object must be connected to the network endpoint before calling this </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">options</td><td>- connect options </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success code - </dd></dl>

</div>
</div>
<a id="a34c6c4e9567e8e7d8f78a1c5fd3a0766"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a34c6c4e9567e8e7d8f78a1c5fd3a0766">&#9670;&nbsp;</a></span>connect() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Network , class Timer , int MAX_MQTT_PACKET_SIZE, int b&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_m_q_t_t_1_1_client.html">MQTT::Client</a>&lt; Network, Timer, MAX_MQTT_PACKET_SIZE, b &gt;::connect </td>
          <td>(</td>
          <td class="paramtype">MQTTPacket_connectData &amp;&#160;</td>
          <td class="paramname"><em>options</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">connackData &amp;&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MQTT Connect - send an MQTT connect packet down the network and wait for a Connack The nework object must be connected to the network endpoint before calling this </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">options</td><td>- connect options </td></tr>
    <tr><td class="paramname">connackData</td><td>- connack data to be returned </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success code - </dd></dl>

</div>
</div>
<a id="ac1e8a91bcfcd5f518849b46152211991"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac1e8a91bcfcd5f518849b46152211991">&#9670;&nbsp;</a></span>disconnect()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Network , class Timer , int MAX_MQTT_PACKET_SIZE, int b&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_m_q_t_t_1_1_client.html">MQTT::Client</a>&lt; Network, Timer, MAX_MQTT_PACKET_SIZE, b &gt;::disconnect </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MQTT Disconnect - send an MQTT disconnect packet, and clean up any state </p><dl class="section return"><dt>Returns</dt><dd>success code - </dd></dl>

</div>
</div>
<a id="a8b21e4c3a200b749b9821a342d9f0b26"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b21e4c3a200b749b9821a342d9f0b26">&#9670;&nbsp;</a></span>isConnected()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Network, class Timer, int MAX_MQTT_PACKET_SIZE = 500, int MAX_MESSAGE_HANDLERS = 5&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool <a class="el" href="class_m_q_t_t_1_1_client.html">MQTT::Client</a>&lt; Network, Timer, MAX_MQTT_PACKET_SIZE, MAX_MESSAGE_HANDLERS &gt;::isConnected </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Is the client connected? </p><dl class="section return"><dt>Returns</dt><dd>flag - is the client connected or not? </dd></dl>

</div>
</div>
<a id="ae454878601be8a182373af8c1b622401"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae454878601be8a182373af8c1b622401">&#9670;&nbsp;</a></span>publish() <span class="overload">[1/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Network , class Timer , int MAX_MQTT_PACKET_SIZE, int b&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_m_q_t_t_1_1_client.html">MQTT::Client</a>&lt; Network, Timer, MAX_MQTT_PACKET_SIZE, b &gt;::publish </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>topicName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Message &amp;&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MQTT Publish - send an MQTT publish packet and wait for all acks to complete for all QoSs </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">topic</td><td>- the topic to publish to </td></tr>
    <tr><td class="paramname">message</td><td>- the message to send </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success code - </dd></dl>

</div>
</div>
<a id="a9d1b46dc485321093ae4494266f901c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9d1b46dc485321093ae4494266f901c4">&#9670;&nbsp;</a></span>publish() <span class="overload">[2/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Network , class Timer , int MAX_MQTT_PACKET_SIZE, int b&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_m_q_t_t_1_1_client.html">MQTT::Client</a>&lt; Network, Timer, MAX_MQTT_PACKET_SIZE, b &gt;::publish </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>topicName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>payloadlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum QoS&#160;</td>
          <td class="paramname"><em>qos</em> = <code>QOS0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>retained</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MQTT Publish - send an MQTT publish packet and wait for all acks to complete for all QoSs </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">topic</td><td>- the topic to publish to </td></tr>
    <tr><td class="paramname">payload</td><td>- the data to send </td></tr>
    <tr><td class="paramname">payloadlen</td><td>- the length of the data </td></tr>
    <tr><td class="paramname">qos</td><td>- the QoS to send the publish at </td></tr>
    <tr><td class="paramname">retained</td><td>- whether the message should be retained </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success code - </dd></dl>

</div>
</div>
<a id="aa6b65ee396bf6f71e2ad3390d862112a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6b65ee396bf6f71e2ad3390d862112a">&#9670;&nbsp;</a></span>publish() <span class="overload">[3/3]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Network , class Timer , int MAX_MQTT_PACKET_SIZE, int b&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_m_q_t_t_1_1_client.html">MQTT::Client</a>&lt; Network, Timer, MAX_MQTT_PACKET_SIZE, b &gt;::publish </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>topicName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>payload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>payloadlen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned short &amp;&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum QoS&#160;</td>
          <td class="paramname"><em>qos</em> = <code>QOS1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>retained</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MQTT Publish - send an MQTT publish packet and wait for all acks to complete for all QoSs </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">topic</td><td>- the topic to publish to </td></tr>
    <tr><td class="paramname">payload</td><td>- the data to send </td></tr>
    <tr><td class="paramname">payloadlen</td><td>- the length of the data </td></tr>
    <tr><td class="paramname">id</td><td>- the packet id used - returned </td></tr>
    <tr><td class="paramname">qos</td><td>- the QoS to send the publish at </td></tr>
    <tr><td class="paramname">retained</td><td>- whether the message should be retained </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success code - </dd></dl>

</div>
</div>
<a id="afde257d236c56680a5b132633c3a44ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afde257d236c56680a5b132633c3a44ed">&#9670;&nbsp;</a></span>setDefaultMessageHandler()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Network, class Timer, int MAX_MQTT_PACKET_SIZE = 500, int MAX_MESSAGE_HANDLERS = 5&gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void <a class="el" href="class_m_q_t_t_1_1_client.html">MQTT::Client</a>&lt; Network, Timer, MAX_MQTT_PACKET_SIZE, MAX_MESSAGE_HANDLERS &gt;::setDefaultMessageHandler </td>
          <td>(</td>
          <td class="paramtype">messageHandler&#160;</td>
          <td class="paramname"><em>mh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set the default message handling callback - used for any message which does not match a subscription message handler </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mh</td><td>- pointer to the callback function. Set to 0 to remove. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a704926ab331722724d483d1b9110f7ea"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a704926ab331722724d483d1b9110f7ea">&#9670;&nbsp;</a></span>setMessageHandler()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Network , class Timer , int MAX_MQTT_PACKET_SIZE, int MAX_MESSAGE_HANDLERS&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_m_q_t_t_1_1_client.html">MQTT::Client</a>&lt; Network, Timer, MAX_MQTT_PACKET_SIZE, MAX_MESSAGE_HANDLERS &gt;::setMessageHandler </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>topicFilter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">messageHandler&#160;</td>
          <td class="paramname"><em>mh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set a message handling callback. This can be used outside of the the subscribe method. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">topicFilter</td><td>- a topic pattern which can include wildcards </td></tr>
    <tr><td class="paramname">mh</td><td>- pointer to the callback function. If 0, removes the callback if any </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af14fc1a824e33c0a7cda6784aa95dace"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af14fc1a824e33c0a7cda6784aa95dace">&#9670;&nbsp;</a></span>subscribe() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Network , class Timer , int MAX_MQTT_PACKET_SIZE, int MAX_MESSAGE_HANDLERS&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_m_q_t_t_1_1_client.html">MQTT::Client</a>&lt; Network, Timer, MAX_MQTT_PACKET_SIZE, MAX_MESSAGE_HANDLERS &gt;::subscribe </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>topicFilter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum QoS&#160;</td>
          <td class="paramname"><em>qos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">messageHandler&#160;</td>
          <td class="paramname"><em>mh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MQTT Subscribe - send an MQTT subscribe packet and wait for the suback </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">topicFilter</td><td>- a topic pattern which can include wildcards </td></tr>
    <tr><td class="paramname">qos</td><td>- the MQTT QoS to subscribe at </td></tr>
    <tr><td class="paramname">mh</td><td>- the callback function to be invoked when a message is received for this subscription </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success code - </dd></dl>

</div>
</div>
<a id="a22e3a2e9394a7c3f4ba471f696440d6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22e3a2e9394a7c3f4ba471f696440d6c">&#9670;&nbsp;</a></span>subscribe() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Network , class Timer , int MAX_MQTT_PACKET_SIZE, int MAX_MESSAGE_HANDLERS&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_m_q_t_t_1_1_client.html">MQTT::Client</a>&lt; Network, Timer, MAX_MQTT_PACKET_SIZE, MAX_MESSAGE_HANDLERS &gt;::subscribe </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>topicFilter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">enum QoS&#160;</td>
          <td class="paramname"><em>qos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">messageHandler&#160;</td>
          <td class="paramname"><em>mh</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">subackData &amp;&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MQTT Subscribe - send an MQTT subscribe packet and wait for the suback </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">topicFilter</td><td>- a topic pattern which can include wildcards </td></tr>
    <tr><td class="paramname">qos</td><td>- the MQTT QoS to subscribe at© </td></tr>
    <tr><td class="paramname">mh</td><td>- the callback function to be invoked when a message is received for this subscription </td></tr>
    <tr><td class="paramname"></td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8e9e9c6510e7e819360462500564ccd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e9e9c6510e7e819360462500564ccd1">&#9670;&nbsp;</a></span>unsubscribe()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Network , class Timer , int MAX_MQTT_PACKET_SIZE, int MAX_MESSAGE_HANDLERS&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_m_q_t_t_1_1_client.html">MQTT::Client</a>&lt; Network, Timer, MAX_MQTT_PACKET_SIZE, MAX_MESSAGE_HANDLERS &gt;::unsubscribe </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>topicFilter</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MQTT Unsubscribe - send an MQTT unsubscribe packet and wait for the unsuback </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">topicFilter</td><td>- a topic pattern which can include wildcards </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success code - </dd></dl>

</div>
</div>
<a id="a3676580238ca03ec60810b8ed2baf2e9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3676580238ca03ec60810b8ed2baf2e9">&#9670;&nbsp;</a></span>yield()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class Network , class Timer , int a, int b&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_m_q_t_t_1_1_client.html">MQTT::Client</a>&lt; Network, Timer, a, b &gt;::yield </td>
          <td>(</td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>timeout_ms</em> = <code>1000L</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A call to this API must be made within the keepAlive interval to keep the MQTT connection alive yield can be called if no other MQTT operation is needed. This will also allow messages to be received. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout_ms</td><td>the time to wait, in milliseconds </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>success code - on failure, this means the client has disconnected </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>lib/MQTT/<a class="el" href="_m_q_t_t_client_8h_source.html">MQTTClient.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.15
</small></address>
</body>
</html>
